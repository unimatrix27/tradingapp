<h2>Namen und Symbole</h2>


<form class="form-horizontal" [formGroup]="rForm" (ngSubmit)="addName(rForm.value)">
  <div class="form-group  has-feedback" 
    [ngClass]="{'has-warning' : rForm.controls['name'].errors
                             && rForm.controls['name'].touched
                             && !rForm.controls['name'].errors?.shouldBeUnique,
                'has-error' : rForm.controls['name'].errors?.shouldBeUnique} ">
    <label class="control-label col-sm-2" for="name">Neuer Name:</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" name="name" id="name" placeholder="Neuen Instrumentennamen hier eingeben" formControlName="name"/>
      <span *ngIf="!rForm.controls['name'].valid && rForm.controls['name'].touched" class="glyphicon glyphicon-warning-sign form-control-feedback"></span>
      <span class="help-inline" *ngIf="!rForm.controls['name'].valid && rForm.controls['name'].touched">Username is taken</span>
      <span class="help-inline" *ngIf="rForm.controls['name'].pending">Checking...</span>
    </div>
  </div>

  <div class="form-group"> 
    <div class="col-sm-offset-2 col-sm-10">
      <button type="submit" class="btn btn-primary" [disabled]="!rForm.valid">Submit</button>
    </div>
  </div>

  <p>{{rForm.controls["name"].errors | json}}</p>

  <p>{{instrumentName | json}}</p>
    <p>{{post | json}}</p>
</form>

